<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Harvest Pi</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Loading Screen -->
  <div id="loading-screen" class="active">
    <h1>Harvest Pi</h1>
    <div class="spinner"></div>
    <p>Loading...</p>
  </div>

  <!-- Login Screen -->
  <div id="login-screen">
    <div class="form-container">
      <h2 id="login-title">Login</h2>
      <form id="login-form" class="login-form">
        <input type="email" id="login-email" class="input-field" placeholder="Email">
        <input type="password" id="login-password" class="input-field" placeholder="Password">
        <button type="button" id="login-btn" class="btn-neon">Login</button>
        <p class="notification" id="login-message"></p>
        <p class="link-text">
          <a href="#" id="go-to-register" class="link-neon">Register</a> | 
          <a href="#" class="policy-links">Privacy Policy</a> | 
          <a href="#" class="policy-links">Terms of Service</a>
        </p>
      </form>
      <form id="register-form" class="register-form" style="display: none;">
        <input type="email" id="register-email" class="input-field" placeholder="Email">
        <input type="password" id="register-password" class="input-field" placeholder="Password">
        <button type="button" id="register-btn" class="btn-neon">Register</button>
        <p class="notification" id="register-message"></p>
        <p class="link-text">
          <a href="#" id="go-to-login" class="link-neon">Login</a> | 
          <a href="#" class="policy-links">Privacy Policy</a> | 
          <a href="#" class="policy-links">Terms of Service</a>
        </p>
      </form>
    </div>
  </div>

  <!-- Start Screen -->
  <div id="start-screen">
    <h1 id="title">Harvest Pi</h1>
    <p id="start-text" class="start-text">Click to Start</p>
  </div>

  <!-- Game Screen -->
  <div id="game-screen" style="display: none;">
    <div id="game-header">
      <h1 id="game-title">Harvest Pi</h1>
      <div class="tabs">
        <button class="tab-btn active" data-tab="farm">Farm</button>
        <button class="tab-btn" data-tab="shop">Shop</button>
        <button class="tab-btn" data-tab="inventory">Inventory</button>
        <button class="tab-btn" data-tab="exchange">Exchange</button>
        <button class="tab-btn" data-tab="finance">Finance</button>
        <button class="tab-btn" data-tab="achievements">Achievements</button>
      </div>
      <div id="wallet">
        <div id="farm-coins">0 Farm Coins</div>
        <div id="pi-coins">0 PI</div>
        <div id="water">0 Water</div>
        <div id="level">Level: 1 | XP: 0</div>
        <div id="xp-bar"><div id="xp-fill"></div></div>
      </div>
    </div>

    <div class="corner-buttons">
      <button id="exit-game-btn" style="display: none;">Exit Game</button>
    </div>

    <!-- Farm Tab -->
    <div id="farm" class="tab-content active">
      <div id="farm-area"></div>
      <button id="claim-reward-btn">Claim Daily Reward</button>
    </div>

    <!-- Shop Tab -->
    <div id="shop" class="tab-content">
      <div class="shop-switch">
        <button id="shop-buy-tab" class="shop-tab-btn active">Buy</button>
        <button id="shop-sell-tab" class="shop-tab-btn">Sell</button>
      </div>
      <div id="shop-content"></div>
      <div id="sell-section" style="display: none;">
        <h3 id="sell-section-title">Sell to Shop</h3>
        <div id="sell-content"></div>
      </div>
    </div>

    <!-- Inventory Tab -->
    <div id="inventory" class="tab-content">
      <div id="inventory-content"></div>
    </div>

    <!-- Exchange Tab -->
    <div id="exchange" class="tab-content">
      <div class="exchange-container">
        <h2 id="exchange-title">Exchange</h2>
        <p id="exchange-rate" class="exchange-rate">1 PI = 1,000,000 Farm Coins</p>
        <div class="exchange-section">
          <input type="text" id="exchange-amount" placeholder="Amount">
          <select id="exchange-direction">
            <option value="piToFc">PI to Farm Coins</option>
            <option value="fcToPi">Farm Coins to PI</option>
          </select>
          <p id="exchange-result-label">Result: <span id="exchange-result" class="exchange-result">0</span></p>
          <button id="exchange-btn">Exchange</button>
          <p id="exchange-loading" style="display: none;">Processing...</p>
        </div>
      </div>
    </div>

    <!-- Finance Tab -->
    <div id="finance" class="tab-content">
      <h2 id="finance-title">Finance</h2>
      <p>Farm Coin Balance: <span id="farm-coin-balance">0</span></p>
      <p>Pi Coin Balance: <span id="pi-coin-balance">0</span></p>
      <hr>
      <h3>Deposit PI</h3>
      <input type="number" id="deposit-amount" placeholder="Amount in PI">
      <button id="real-deposit-btn">Deposit</button>
      <p class="deposit-message" id="real-deposit-msg"></p>
      <hr>
      <h3>Withdraw PI</h3>
      <button id="withdraw-btn">Withdraw</button>
      <p id="withdraw-note">Note: Withdrawal fees may apply.</p>
    </div>

    <!-- Achievements Tab -->
    <div id="achievements" class="tab-content">
      <div id="achievements-content"></div>
    </div>

    <!-- Notification -->
    <div id="notification"></div>

    <!-- Reward Modal -->
    <div id="reward-modal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2 id="daily-reward-title">Daily Reward</h2>
        <p>You've earned: 100 Farm Coins, 50 Water, 20 XP</p>
        <button id="claim-modal-btn">Claim</button>
      </div>
    </div>

    <!-- Deposit Popup -->
    <div id="deposit-popup" class="popup">
      <div class="popup-content">
        <h3>Confirm Deposit</h3>
        <p>Amount: <span id="popup-amount"></span> PI</p>
        <p>User Email: <span id="popup-userid"></span></p>
        <p>Transfer <span id="popup-transfer-amount"></span> PI to:</p>
        <p class="text-limit">Wallet Address: <span id="popup-wallet-address"></span> <button id="copy-wallet-btn" class="copy-button">Copy</button></p>
        <p>Memo: <span id="popup-memo"></span> <button id="copy-memo-btn" class="copy-button">Copy</button></p>
        <p>Time Left: <span id="countdown-timer"></span>s</p>
        <button id="confirm-deposit" class="game-button">Confirm</button>
        <button id="cancel-deposit" class="game-button">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Audio -->
  <audio id="bg-music" src="assets/audio/background_music.mp3" loop></audio>
  <audio id="bg-voice" src="assets/audio/background_voice.mp3" loop></audio>
  <audio id="harvesting-sound" src="assets/audio/harvesting.mp3"></audio>
  <audio id="watering-sound" src="assets/audio/watering.mp3"></audio>
  <audio id="planting-sound" src="assets/audio/planting.mp3"></audio>
  <audio id="menu-sound" src="assets/audio/menu.mp3"></audio>
  <audio id="buying-sound" src="assets/audio/buying.mp3"></audio>
  <audio id="coin-sound" src="assets/audio/coin.mp3"></audio>

  <script type="module" src="main.js"></script>
</body>
</html>
